<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Converter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1> Unit Converter </h1>

    <label>Kilogram: </label>
    <input type="number" id="kilogram" oninput="convertFromKilogram()">

    <label>Catty(Jin): </label>
    <input type="number" id="catty" oninput="convertFromCatty()">

    <label>Commercial Tael(Leung): </label>
    <input type="number" id="tael" oninput="convertFromTael()">

    <label>International Pound: </label>
    <input type="number" id="pound" oninput="convertFromPound()">

    <h2> History </h2>

    <script>
        function convertFromKilogram() {
            const kg = parseFloat(document.getElementById('kilogram').value) || 0;
            document.getElementById('catty').value = (kg / 0.6048).toFixed(3);
            document.getElementById('tael').value = (kg * 26.45547).toFixed(3);
            document.getElementById('pound').value = (kg * 2.20462).toFixed(3);
            addToHistory('Kilogram: ' + kg);
        }

        function convertFromCatty() {
            const catty = parseFloat(document.getElementById('catty').value) || 0;
            const kg = catty / 0.6048;
            document.getElementById('kilogram').value = kg.toFixed(3);
            document.getElementById('tael').value = (kg * 26.45547).toFixed(3);
            document.getElementById('pound').value = (kg * 2.20462).toFixed(3);
            addToHistory('Catty: ' + catty);
        }

        function convertFromTael() {
            const tael = parseFloat(document.getElementById('tael').value) || 0;
            const kg = tael / 26.45547;
            document.getElementById('kilogram').value = kg.toFixed(3);
            document.getElementById('catty').value = (kg / 0.6048).toFixed(3);
            document.getElementById('pound').value = (kg * 2.20462).toFixed(3);
            addToHistory('Tael: ' + tael);
        }

        function convertFromPound() {
            const pound = parseFloat(document.getElementById('pound').value) || 0;
            const kg = pound / 2.20462;
            document.getElementById('kilogram').value = kg.toFixed(3);
            document.getElementById('catty').value = (kg / 0.6048).toFixed(3);
            document.getElementById('tael').value = (kg * 26.45547).toFixed(3);
            addToHistory('Pound: ' + pound);
        }

        function addToHistory(entry) {
            if ( entry.trim() !== '' && !isNaN(parseFloat(entry.split(': ')[1])) ) {
                const passage = document.createElement('p');
                passage.textContent = entry;
                document.body.appendChild(passage);
            }
        }
    </script>
</body>

</html>